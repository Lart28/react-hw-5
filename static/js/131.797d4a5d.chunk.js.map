{"version":3,"file":"static/js/131.797d4a5d.chunk.js","mappings":"mOAMe,SAASA,IAAU,IAADC,EAC/BC,GAAoCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAChCI,GAAgCL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAvCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAA0BT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAb,EAAAA,EAAAA,GAAAW,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,EAAiC,QAA5BpB,EAAGkB,EAAaG,IAAI,gBAAQ,IAAArB,EAAAA,EAAI,GACrCsB,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHJ,GAGLK,MAAM,GAADC,OAfQ,6BAeI,0BAAAA,OAAyBN,EAAK,uDAAAM,OAdnC,qCAeTC,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,yFAClC,IACCN,MAAK,SAAAO,GAAM,OAAIxB,EAAYwB,EAAO,IAClCC,OAAM,SAAAtB,GAAK,OAAIC,EAASD,EAAM,GACnC,GAAE,CAACO,IAYH,OACEgB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMC,SARW,SAACC,GACpBA,EAAEC,iBACFvB,EAAgB,CAACC,MAAOf,IACxBC,EAAc,GAChB,EAIiCgC,UAC3BF,EAAAA,EAAAA,MAAA,SAAOO,KAAK,QAAOL,SAAA,EACjBC,EAAAA,EAAAA,KAAA,SAAOK,SAdU,SAACH,GACxBnC,EAAcmC,EAAEI,OAAOC,MACzB,EAY2CH,KAAK,QAAQI,KAAK,OAAOD,MAAOzC,KACnEkC,EAAAA,EAAAA,KAAA,UAAQQ,KAAK,SAAQT,SAAC,gBAGzBzB,IAAS0B,EAAAA,EAAAA,KAAA,MAAAD,SAAKzB,EAAMmC,UACpBvC,IACC8B,EAAAA,EAAAA,KAAA,MAAAD,SACG7B,EAASwC,QAAQC,KAAI,SAAAC,GAAA,IAAEC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAK,OAC/Bd,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACe,EAAAA,GAAI,CAACC,GAAE,WAAA7B,OAAa0B,GAAMI,MAAO,CAACC,KAAMnC,GAAUgB,SAChDe,KAFID,EAIJ,QAIjB,C","sources":["Pages/Movies/Movies.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\n\nconst BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = 'af02fe4d7c3feb4bd28b36239d2e4dd2';\n\nexport default function Movies() {\n  const [inputValue, setInputValue] = useState('');\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(\"query\") ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query) {\n      return\n    }\n    fetch(`${BASE_URL}/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1&api_key=${API_KEY}`)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } \n        return Promise.reject(new Error('Сталась помилка'))\n      })\n      .then(movies => setResponse(movies))\n      .catch(error => setError(error))\n  },[query])\n\n  const changeInputValue = (e) => {\n    setInputValue(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setSearchParams({query: inputValue});\n    setInputValue('');\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label name=\"query\">\n          <input onChange={changeInputValue} name=\"query\" type=\"text\" value={inputValue} />\n          <button type=\"submit\">Search</button>\n        </label>\n      </form>\n      {error && <h1>{error.message}</h1>}\n      {response &&\n        <ul>\n          {response.results.map(({id, title}) =>\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{from: location}}>\n                {title}\n              </Link>\n            </li>)}\n        </ul>}\n      </>\n  )\n}"],"names":["Movies","_searchParams$get","_useState","useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","response","setResponse","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","location","useLocation","useEffect","fetch","concat","then","res","ok","json","Promise","reject","Error","movies","catch","_jsxs","_Fragment","children","_jsx","onSubmit","e","preventDefault","name","onChange","target","value","type","message","results","map","_ref","id","title","Link","to","state","from"],"sourceRoot":""}